services:
  windows:
    image: dockurr/windows-arm
    container_name: orb-win11-vbox
    environment:
      VERSION: "11" # Downloads Windows 11 Pro automatically
      KVM: "N"
      RAM_SIZE: "24G" # Crucial for Merlin/SDK performance
      CPU_CORES: "14" # Smoother UI experience
      ARGUMENTS: "-accel tcg,thread=multi" # âš¡ FORCE MULTI-CORE on M1/M2/M4
      USERNAME: "alkami"
      PASSWORD: "alkami123"
    ports:
      - 8006:8006 # WEB UI (Access via Browser)
      - 3389:3389/tcp # RDP (Access via Remote Desktop App)
      - 3389:3389/udp

    volumes:
      - ./storage:/storage # ðŸ’¾ PERSISTENCE: Keeps your Windows installation safe
      - ./storage:/shared # ðŸ“‚ FILE SHARING: Makes this same folder visible at \\host.lan\Data
    # Hardware acceleration (Required for speed)
    cap_add:
      - NET_ADMIN # Allows Windows to manage its own network
    restart: on-failure
